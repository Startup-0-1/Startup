{% extends "ui/layout_app.html" %}

{% block title %}Doctor Profile — MedConsult{% endblock %}

{% block content %}
{% with p=profile %}
<div class="space-y-6">
  <div class="flex items-start justify-between gap-4">
    <div>
      <h1 class="text-2xl font-semibold tracking-tight">
        {{ p.full_name|default:doctor.email }}
      </h1>
      <p class="text-sm text-slate-600 mt-1">
        {{ p.specialization|default:"Not specified" }}
      </p>
    </div>

    <a href="{% url 'patient-appointment-create' %}?doctor_id={{ doctor.id }}"
       class="inline-flex items-center justify-center rounded-xl bg-slate-900 text-white px-5 py-2 text-sm font-medium hover:bg-slate-800 transition">
      Book Appointment
    </a>
  </div>

  <div class="grid lg:grid-cols-3 gap-6">
    <!-- Left: Profile -->
    <div class="lg:col-span-2 space-y-6">
      <div class="rounded-2xl bg-white border border-slate-200 shadow-sm p-6 space-y-4">
        <div>
          <h2 class="text-lg font-semibold">About</h2>
          {% if p.bio %}
            <p class="text-sm text-slate-700 mt-2 whitespace-pre-line">{{ p.bio }}</p>
          {% else %}
            <p class="text-sm text-slate-600 mt-2">No bio provided yet.</p>
          {% endif %}
        </div>

        <div class="border-t pt-4 grid md:grid-cols-2 gap-4">
          <div>
            <div class="text-xs font-semibold text-slate-500 uppercase tracking-wider">Specialization</div>
            <div class="text-sm text-slate-800 mt-1">{{ p.specialization|default:"—" }}</div>
          </div>

          <div>
            <div class="text-xs font-semibold text-slate-500 uppercase tracking-wider">Contact</div>
            <div class="text-sm text-slate-800 mt-1">{{ p.contact_number|default:"—" }}</div>
          </div>

          <div class="md:col-span-2">
            <div class="text-xs font-semibold text-slate-500 uppercase tracking-wider">Clinic</div>
            {% if p.clinic_name or p.clinic_address %}
              <div class="text-sm text-slate-800 mt-1">
                {% if p.clinic_name %}<div class="font-medium">{{ p.clinic_name }}</div>{% endif %}
                {% if p.clinic_address %}<div class="text-slate-600">{{ p.clinic_address }}</div>{% endif %}
              </div>
            {% else %}
              <div class="text-sm text-slate-600 mt-1">—</div>
            {% endif %}
          </div>
        </div>
      </div>
    </div>

    <!-- Right: Booking card -->
    <div class="space-y-6">
      <div class="rounded-2xl bg-white border border-slate-200 shadow-sm p-6">
        <h3 class="text-lg font-semibold">Book an appointment</h3>
        <p class="text-sm text-slate-600 mt-2">
          You can request an appointment with this doctor. Choose a time slot on the next page.
        </p>

        <a href="{% url 'patient-appointment-create' %}?doctor_id={{ doctor.id }}"
           class="mt-4 w-full inline-flex items-center justify-center rounded-xl bg-slate-900 text-white px-5 py-2 text-sm font-medium hover:bg-slate-800 transition">
          Continue
        </a>

        <p class="text-xs text-slate-500 mt-3">
          Tip: your timezone is used automatically when displaying available times.
        </p>
      </div>
    </div>
  </div>
</div>
{% endwith %}
{% endblock %}
